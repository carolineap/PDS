<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <title>CPA-Milho</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.5.0/css/all.css' integrity='sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU' crossorigin='anonymous'>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    </head>
{% extends 'navbar.html' %}
{% block content %}
<body class="corpo"> 
    <!-- --------------------------Header -------------------------- -->
    <div class="header-Img">
        <img src="../static/imagens//milhoBanner.png" style="width: 100%">
            <h1 class="commo-name">Milho</h1>
    </div>
    <!-- --------------------------Milho -------------------------- -->
    <div class="container-prod" >
         <div class="panel-group" id="accordion">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="panel-title">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                Produto
            </a>
          </h2>
        </div>
        <div id="collapseOne" class="panel-collapse collapse in">
          <div class="panel-body">
            O milho é usado pela indústria para produzir diversos produtos como o óleo vegetal, o farelo, a farinha, o fubá e o creme para o setor alimentício.
              <br>
            Como a produção de milho no Brasil conta com diferentes vários locais de cultivo, a produção garante a oferta em boa parte do ano. No entanto, a grande parte das negociações acontece nos períodos de safra e entressafra.
              <br>
            O contrato foi desenvolvido com o objetivo de ser uma ferramenta para a gestão do risco de oscilação de preço, sendo utilizado pelos participantes do mercado, como o produtor, a indústria, tradings, dentre outros.
          </div>
        </div>
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h2 class="panel-title">
            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
              Características Técnicas
            </a>
          </h2>
        </div>
        <div id="collapseTwo" class="panel-collapse collapse">
          <div class="panel-body">
            <table id="infoTable">
                <tr>
                    <th><b>Objeto de negociação</b> </th>
                    <th>Milho em grão a granel, com odor e aspectos normais, duro ou semiduro e amarelo.</th>
                </tr>
                <tr>
                    <th><b>Código de negociação</b> </th>
                    <th>CCM</th>
                </tr>
                <tr>
                    <th><b>Tamanho do contrato</b> </th>
                    <th>450 sacas de 60kg líquidos (equivalentes a 27 toneladas métricas).</th>
                </tr>
                <tr>
                    <th><b>Cotação</b> </th>
                    <th>Reais por saca, com duas casas decimais.</th>
                </tr>
                <tr>
                    <th><b>Variação mínima de apregoação</b> </th>
                    <th>R$0,01</th>
                </tr>
                <tr>
                    <th><b>Lote padrão</b> </th>
                    <th>1 contrato.</th>
                </tr>
                <tr>
                    <th><b>Último dia de negociação</b> </th>
                    <th>Dia 15 do mês de vencimento.</th>
                </tr>
                <tr>
                    <th><b>Data de vencimento</b> </th>
                    <th>Dia 15 do mês de vencimento. Caso não haja sessão de negociação, a data de vencimento será a próxima sessão de negociação.</th>
                </tr>
                <tr>
                    <th><b>Meses de vencimento</b> </th>
                    <th>Janeiro, março, maio, julho, agosto, setembro e novembro.</th>
                </tr>
                <tr>
                    <th><b>Liquidação no vencimento</b> </th>
                    <th>Financeira.</th>
                </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="ajusteDiario">
        <h2 style="margin: 30px 0;">Ajuste do Pregão Diário</h2>
        <form class="formAjuste" method="POST" id="formAjuste">
            <label class="titleForm"> De:</label>
            <input name='data1' type="date" placeholder="dd/mm/aaaa">
            <label class="titleForm"> Até:</label>
            <input name='data2' type="date" placeholder="dd/mm/aaaa">
            <label class="titleForm"> Mês de Vencimento: </label>
            <select class="formSelec">
                <option>Todos</option>
                <option>Janeiro</option>
                <option>Março</option>
                <option>Maio</option>
                <option>Julho</option>
                <option>Agosto</option>
                <option>Setembro</option>
                <option>Novembro</option>
            </select>
            <label class="titleForm"> Frequência: </label>
            <select class="formSelec" id="freq" onchange="addInput()">
                <option>Diário</option>
                <option >Semanal</option>
                <option >Mensal</option>
            </select>
             <select class="formSelec" id="semanal" style="display: none">
                <option>Domingo</option>
                <option>Quarta</option>
                <option>Sábado</option>
            </select>
            <select class="formSelec" id="mensal" style="display: none">
                <option>Primeiro Dia</option>
                <option>Último Dia</option>
            </select>
            <button type="submit" class="btnBusca">Buscar</button>   
        </form>
        <table id="ajusteTable">
            <tr>
                <th style="text-align: center">Código</th>
                <th style="text-align: center">Data</th>
                <th style="text-align: center">Vencimento</th>
                <th>Preço do Ajuste Anterior (R$)</th>
                <th>Preço do Ajuste Atual (R$)</th>
                <th>Variação (R$)</th>
                <th>Valor do Ajuste por Contrato</th>
                <th>Número de Contratos</th>
                <th>Volume</th>
            </tr>
             {%for m in data%}
                <tr>
                    <td style="text-align: center">{{m.codigo}}</td>
                    <td style="text-align: center">{{m.data}}</td>
                    <td style="text-align: center">{{m.vencimento}}</td>
                    <td>{{'{:.2f}'.format(m.ajuste_anterior)}}</td>
                    <td>{{'{:.2f}'.format(m.ajuste_atual)}}</td>
                    <td>{{'{:.2f}'.format(m.variacao)}}</td>
                    <td>{{'{:.2f}'.format(m.valor_contrato)}}</td>
                    <td>{{m.contratos}}</td>
                    <td>{{'{:.2f}'.format(m.volume)}}</td>                
                </tr>
            {% endfor %}
        </table>
        <div id="graphDown" style="float: right">
            <button type="button" class="myBtn" data-toggle="modal" data-target="#opGrafico" style="background-color: dodgerblue"> <i class='fas fa-chart-line'></i> Gráficos</button>
            <button type="button" class="myBtn"><i class="fas fa-download"> </i> Download</button>
        </div>
        
        <div class="modal fade" id="opGrafico" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h4 class="modal-title">Opções de Gráficos</h4>
                </div>
                <div class="modal-body">
                    <button class="btn btn-default modBtn"> <img src="../static/imagens/line" width="35"> Gráfico de Linhas</button>
                    <button class="btn btn-default modBtn"> <img src="../static/imagens/candlestick.png" width="35">  Gráfico de Velas</button>    
                </div>
                <div class="modal-footer">
                  <button type="button" class="fechar myBtn" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
        </div>
    </div>    
</div>
</body>
{% endblock %}
</html>
<script>
    function addInput(){
        var selec = document.getElementById("freq");
        var freq = selec.options[ selec.selectedIndex ].value; 
        if (freq == "Semanal"){
            document.getElementById("semanal").style.display = 'inline';
            document.getElementById("mensal").style.display = 'none';
        }else if (freq == "Mensal"){
            document.getElementById("mensal").style.display = 'inline';
            document.getElementById("semanal").style.display = 'none';
        }else{
            document.getElementById("mensal").style.display = 'none';
            document.getElementById("semanal").style.display = 'none';
        }
    }

</script>